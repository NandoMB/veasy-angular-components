<div class="vcalendar">

  <div ng-if="viewMode === 'month'">
    <div class="vcalendar-header">
      <button class="btn btn-default" ng-click="previousMonth()"><i class="fa fa-angle-left vcalendar-arrow"></i></button>
      <span class="">{{calendar.title}}</span>
      <button class="btn btn-default" ng-click="nextMonth()"><i class="fa fa-angle-right vcalendar-arrow"></i></button>
    </div>
    <div class="vcalendar-body">
      <div class="vcalendar-header-row">
        <div class="vcalendar-header-col" ng-repeat="day in calendar.weekDays">
          <span>{{day}}</span>
        </div>
      </div>
      <div class="vcalendar-body-row" ng-repeat="week in calendar.weeks">
        <div class="vcalendar-body-col" ng-class="{ 'vcalendar-today': day.isToday, 'vcalendar-weekend-day': day.isWeekend, 'vcalendar-is-not-current-month-day': !day.isCurrentMonth }" ng-repeat="day in week" ng-click="onClickDay()">
          <span class="vcalendar-day" ng-class="{  }">{{day.day}}</span>
          <div style="overflow: auto; flex-grow: 1;max-height: 67px;padding-top: 2px;">
            <div class="vcalendar-event" ng-click="onClickEvent($event, event)" ng-style="{ 'background-color': event.color }" ng-repeat="event in day.events">
              <span class="vcalendar-util-truncate">{{event[getEventTitle()]}}</span>
              <span class="">{{getEventTime(event.startDate, event.endDate)}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="vcalendar-footer">
    </div>
  </div>

  <div ng-if="viewMode === 'week'">
    <div class="veasycalendar">
      <div class="veasycalendar-toolbar">
        <div class="veasycalendar-toolbar-left">
          <button class="btn btn-default">Today</button>
        </div>
        <div class="veasycalendar-toolbar-center">
          <span class="veasycalendar-title">{{calendar.title}}</span>
        </div>
        <div class="veasycalendar-toolbar-right">
          <button class="btn btn-default" ng-click="previousWeek()"><i class="fa fa-angle-left vcalendar-arrow"></i></button>
          <button class="btn btn-default" ng-click="nextWeek()"><i class="fa fa-angle-right vcalendar-arrow"></i></button>
        </div>
      </div>
      <div class="veasycalendar-header">
        <div class="veasycalendar-header-col veasycalendar-timezone">
          <span class="veasycalendar-util-small-text">GMT-03</span>
        </div>
        <div class="veasycalendar-header-col" ng-repeat="day in calendar.week">
          <span class="veasycalendar-util-small-text">{{calendar.weekDays[$index]}}</span>
          <span class="veasycalendar-util-big-text">{{day.day}}</span>
        </div>
      </div>
      <div class="veasycalendar-body">
        <div class="veasycalendar-body-col veasycalendar-timezone">
          <div class="veasycalendar-timeslot" ng-repeat="timeslot in timeslots">
            <span class="veasycalendar-util-small-text" ng-if="timeslot.show">{{timeslot.time}}</span>
          </div>
        </div>
        <div class="veasycalendar-body-col" ng-repeat="day in calendar.week">
          <div class="veasycalendar-timeslot veasycalendar-timeslot-data" ng-repeat="timeslot in timeslots">
            <div style="width: 100%;height: 100%;position: relative;">
              <div class="veasycalendar-event" ng-repeat="event in day.events track by $index" ng-if="isTheRightTimeslot(event, timeslot)" ng-click="onClickEvent($event, event)" ng-style="getEventStyle(event, $index, day.events)" >
                <!-- {{$index}} -->
                <span class="veasycalendar-util-truncate">{{event[getEventTitle()]}}</span>
                <!-- <span class="">{{getEventTime(event.startDate, event.endDate)}}</span> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="veasycalendar-footer">
      </div>
    </div>
  </div>

  <div ng-if="viewMode === 'day'">
    It will be implemented as soon as possible
  </div>

</div>
